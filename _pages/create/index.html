---
layout: default
title: Submit a Post
permalink: /create/
location: "footer"
footer_section: "Creators"
---

<div class="home" id="login-area" style="display:none;">
  <a id="login-btn" href="#">
    <button>Login with GitHub</button>
  </a>
</div>

<div class="home" id="content-area" style="display:none;">
  <h1 class="page-heading">{{ page.title }}</h1>

  <input id="title" type="text" placeholder="Post title..." /><br>
  <input id="tags" type="text" placeholder="Tags (comma-separated)" /><br>
  <textarea id="content" placeholder="Write your content..."></textarea>
  <div id="charcount">0 / 300</div><br>

  <label>
    <input type="checkbox" id="agreement" />
    <a href="https://zunalita.github.io/terms" target="_blank" rel="noopener noreferrer">I agree to the Terms of Service</a>
  </label><br>

  <h2>Preview</h2>
  <div id="preview"></div>
  <div id="status"></div>

  <button id="submitBtn" onclick="main()" disabled>Submit</button>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const urlParams = new URLSearchParams(window.location.search);
  const token = urlParams.get("token");

  if (token) {
    localStorage.setItem("githubToken", token);
    window.history.replaceState({}, document.title, window.location.pathname);
    window.githubToken = token;
    document.getElementById("content-area").style.display = "block";
  } else {
    const storedToken = localStorage.getItem("githubToken");
    if (storedToken) {
      window.githubToken = storedToken;
      document.getElementById("content-area").style.display = "block";
    } else {
      document.getElementById("login-area").style.display = "block";
      document.getElementById("login-btn").href =
        "https://github.com/login/oauth/authorize?client_id=YOUR_CLIENT_ID&scope=repo&redirect_uri=YOUR_VERCEL_FUNCTION_URL";
    }
  }
});
</script>

<script src="{{ '/assets/js/post-creator.js' | relative_url }}"></script>
